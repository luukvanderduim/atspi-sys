   Compiling atspi-sys v0.0.1 (/home/luuk/src/rust/gtk-rs/sys/atspi/atspi-sys)
    Finished dev [unoptimized + debuginfo] target(s) in 0.57s
     Running target/debug/deps/atspi_sys-ffb329cd3252f31e

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

     Running target/debug/deps/abi-3b89499d4c1a02fa

running 2 tests
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_COORD_TYPE_PARENT’ undeclared (first use in this function); did you mean ‘ATSPI_COORD_TYPE_SCREEN’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/layout.c: In function ‘main’:
<command-line>:0:15: error: ‘AtspiScrollType’ undeclared (first use in this function); did you mean ‘AtspiStateType’?
tests/layout.c:10:31: note: in expansion of macro ‘ABI_TYPE_NAME’
     printf("%zu\n%zu", sizeof(ABI_TYPE_NAME), alignof(ABI_TYPE_NAME));
                               ^~~~~~~~~~~~~
<command-line>:0:15: note: each undeclared identifier is reported only once for each function it appears in
tests/layout.c:10:31: note: in expansion of macro ‘ABI_TYPE_NAME’
     printf("%zu\n%zu", sizeof(ABI_TYPE_NAME), alignof(ABI_TYPE_NAME));
                               ^~~~~~~~~~~~~
test cross_validate_layout_with_c ... FAILED
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_KEY_LOCKMODIFIERS’ undeclared (first use in this function); did you mean ‘ATSPI_KEY_PRESS’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_KEY_UNLOCKMODIFIERS’ undeclared (first use in this function); did you mean ‘ATSPI_KEY_RELEASED_EVENT’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:19: error: ‘ATSPI_SCROLLTYPE_COUNT’ undeclared (first use in this function); did you mean ‘ATSPI_COORD_TYPE_COUNT’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:19: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_ANYWHERE’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_ALERT’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_BOTTOM_EDGE’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_ROOT_PANE’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_BOTTOM_RIGHT’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_MATH_ROOT’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_LEFT_EDGE’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_LIST_BOX’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_RIGHT_EDGE’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_ROOT_PANE’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_TOP_EDGE’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_PAGE’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
tests/constant.c: In function ‘main’:
<command-line>:0:26: error: ‘ATSPI_SCROLL_TOP_LEFT’ undeclared (first use in this function); did you mean ‘ATSPI_ROLE_COMMENT’?
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
<command-line>:0:26: note: each undeclared identifier is reported only once for each function it appears in
tests/constant.c:9:22: note: in expansion of macro ‘ABI_CONSTANT_NAME’
     printf(_Generic((ABI_CONSTANT_NAME),
                      ^~~~~~~~~~~~~~~~~
test cross_validate_constants_with_c ... FAILED

failures:

---- cross_validate_layout_with_c stdout ----
layout    ... 25 passed; 0 failed (compilation errors: 0)
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_TYPE_NAME=AtspiScrollType" "tests/layout.c" "-o" "/tmp/abi.SqvkAygppE7q/layout" failed, exit code: 1
layout    ... 49 passed; 1 failed (compilation errors: 1)
thread 'cross_validate_layout_with_c' panicked at 'FAILED: 49 passed; 1 failed (compilation errors: 1)', tests/abi.rs:126:13
note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.

---- cross_validate_constants_with_c stdout ----
Constant value mismatch for ATSPI_COORD_TYPE_COUNT
Rust: "3"
C:    "2"
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_COORD_TYPE_PARENT" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
constants ... 23 passed; 2 failed (compilation errors: 1)
constants ... 48 passed; 2 failed (compilation errors: 1)
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_KEY_LOCKMODIFIERS" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
constants ... 72 passed; 3 failed (compilation errors: 2)
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_KEY_UNLOCKMODIFIERS" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
constants ... 96 passed; 4 failed (compilation errors: 3)
constants ... 121 passed; 4 failed (compilation errors: 3)
constants ... 146 passed; 4 failed (compilation errors: 3)
constants ... 171 passed; 4 failed (compilation errors: 3)
constants ... 196 passed; 4 failed (compilation errors: 3)
constants ... 221 passed; 4 failed (compilation errors: 3)
constants ... 246 passed; 4 failed (compilation errors: 3)
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=ATSPI_SCROLLTYPE_COUNT" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_ANYWHERE" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_BOTTOM_EDGE" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_BOTTOM_RIGHT" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_LEFT_EDGE" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_RIGHT_EDGE" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_TOP_EDGE" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
compilation command "cc" "-Wno-deprecated-declarations" "-D__USE_MINGW_ANSI_STDIO" "-I/usr/include/at-spi-2.0" "-I/usr/include/dbus-1.0" "-I/usr/lib/x86_64-linux-gnu/dbus-1.0/include" "-I/usr/include/glib-2.0" "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include" "-DABI_CONSTANT_NAME=(gint) ATSPI_SCROLL_TOP_LEFT" "tests/constant.c" "-o" "/tmp/abi.O46qXD06i3wl/constant" failed, exit code: 1
constants ... 263 passed; 12 failed (compilation errors: 11)
constants ... 288 passed; 12 failed (compilation errors: 11)
constants ... 313 passed; 12 failed (compilation errors: 11)
thread 'cross_validate_constants_with_c' panicked at 'FAILED: 321 passed; 12 failed (compilation errors: 11)', tests/abi.rs:126:13


failures:
    cross_validate_constants_with_c
    cross_validate_layout_with_c

test result: FAILED. 0 passed; 2 failed; 0 ignored; 0 measured; 0 filtered out

error: test failed, to rerun pass '--test abi'
